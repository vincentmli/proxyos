<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>2.5. Turning on Packet Forwarding</title>
    <link rel="stylesheet" href="./Common_Content/css/default.css" type="text/css" />
    <link rel="start" href="index.html" title="Linux Virtual Server Administration" />
    <link rel="up" href="ch-initial-setup-VSA.html" title="Chapter 2. Initial LVS Configuration" />
    <link rel="prev" href="s1-lvs-piranha-access-VSA.html" title="2.4. Limiting Access To the Piranha Configuration Tool" />
    <link rel="next" href="s1-lvs-server-daemons-VSA.html" title="2.6. Configuring Services on the Real Servers" />
    <link rel="copyright" href="ln-id2872232.html" title="Legal Notice" />
  </head>
  <body>
    <p id="title">
      
        <strong>2.5. Turning on Packet Forwarding</strong>
      </a>
    </p>
    <ul class="docnav">
      <li class="previous">
        <a accesskey="p" href="s1-lvs-piranha-access-VSA.html">
          <strong>Prev</strong>
        </a>
      </li>
      <li class="next">
        <a accesskey="n" href="s1-lvs-server-daemons-VSA.html">
          <strong>Next</strong>
        </a>
      </li>
    </ul>
    <div class="section" lang="en-US" xml:lang="en-US">
      <div class="titlepage">
        <div>
          <div>
            <h2 class="title"><a id="s1-lvs-forwarding-VSA"></a>2.5. Turning on Packet Forwarding</h2>
          </div>
        </div>
      </div>
      <a id="id2891609" class="indexterm"></a>
      <a id="id2891619" class="indexterm"></a>
      <p>
			In order for the LVS router to forward network packets properly to the real servers, each LVS router node must have IP forwarding turned on in the kernel. Log in as root and change the line which reads <code class="computeroutput">net.ipv4.ip_forward = 0</code> in <code class="filename">/etc/sysctl.conf</code> to the following:
		</p>
      <pre class="screen">
net.ipv4.ip_forward = <strong class="userinput"><code>1</code></strong>
</pre>
      <p>
			The changes take effect when you reboot the system.
		</p>
      <p>
			To check if IP forwarding is turned on, issue the following command as root:
		</p>
      <p>
			<code class="command">/sbin/sysctl net.ipv4.ip_forward</code>
		</p>
      <p>
			If the above command returns a <code class="computeroutput">1</code>, then IP forwarding is enabled. If it returns a <code class="computeroutput">0</code>, then you can turn it on manually using the following command:
		</p>
      <p>
			<code class="command">/sbin/sysctl -w net.ipv4.ip_forward=1</code>
		</p>
    </div>
    <ul class="docnav">
      <li class="previous">
        <a accesskey="p" href="s1-lvs-piranha-access-VSA.html"><strong>Prev</strong>2.4. Limiting Access To the Piranha Configuration...</a>
      </li>
      <li class="up">
        <a accesskey="u" href="#">
          <strong>Up</strong>
        </a>
      </li>
      <li class="home">
        <a accesskey="h" href="index.html">
          <strong>Home</strong>
        </a>
      </li>
      <li class="next">
        <a accesskey="n" href="s1-lvs-server-daemons-VSA.html"><strong>Next</strong>2.6. Configuring Services on the Real Servers</a>
      </li>
    </ul>
  <br><font size="1"><b>Note:</b> This documentation is provided {and copyrighted} by <b>Red Hat®, Inc.</b> and is released via the Open Publication License. The copyright holder has added the further requirement that <i>Distribution of substantively modified versions of this document is prohibited without the explicit permission of the copyright holder</i>. The <b>CentOS project</b> redistributes these original works (in their unmodified form) as a reference for <b>CentOS-5</b> because <b>CentOS-5</b> is built from publicly available, open source SRPMS. The documentation is unmodified to be compliant with upstream distribution policy. Neither <b>CentOS-5</b> nor the <b>CentOS Project</b> are in any way affiliated with or sponsored by <b>Red Hat®, Inc.</b></font></body>
</html>

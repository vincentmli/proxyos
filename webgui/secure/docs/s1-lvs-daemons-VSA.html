<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>2.1. Configuring Services on the LVS Routers</title>
    <link rel="stylesheet" href="./Common_Content/css/default.css" type="text/css" />
    <link rel="start" href="index.html" title="Linux Virtual Server Administration" />
    <link rel="up" href="ch-initial-setup-VSA.html" title="Chapter 2. Initial LVS Configuration" />
    <link rel="prev" href="ch-initial-setup-VSA.html" title="Chapter 2. Initial LVS Configuration" />
    <link rel="next" href="s1-lvs-piranha-password-VSA.html" title="2.2. Setting a Password for the Piranha Configuration Tool" />
    <link rel="copyright" href="ln-id2872232.html" title="Legal Notice" />
  </head>
  <body>
    <p id="title">
      
        <strong>2.1. Configuring Services on the LVS Routers</strong>
      </a>
    </p>
    <ul class="docnav">
      <li class="previous">
        <a accesskey="p" href="ch-initial-setup-VSA.html">
          <strong>Prev</strong>
        </a>
      </li>
      <li class="next">
        <a accesskey="n" href="s1-lvs-piranha-password-VSA.html">
          <strong>Next</strong>
        </a>
      </li>
    </ul>
    <div class="section" lang="en-US" xml:lang="en-US">
      <div class="titlepage">
        <div>
          <div>
            <h2 class="title"><a id="s1-lvs-daemons-VSA"></a>2.1. Configuring Services on the LVS Routers</h2>
          </div>
        </div>
      </div>
      <p>
			The Red Hat Enterprise Linux installation program installs all of the components needed to set up LVS, but the appropriate services must be activated before configuring LVS. For both LVS routers, set the appropriate services to start at boot time. There are three primary tools available for setting services to activate at boot time under Red Hat Enterprise Linux: the command line program <code class="command">chkconfig</code>, the ncurses-based program <code class="command">ntsysv</code>, and the graphical <span><strong class="application">Services Configuration Tool</strong></span>. All of these tools require root access.
		</p>
      <div class="tip">
        <h2>Tip</h2>
        <p>
				To attain root access, open a shell prompt and use the <code class="command">su -</code> command followed by the root password. For example:
			</p>
        <pre class="screen">
$ <strong class="userinput"><code>su - <em class="replaceable"><code>root password</code></em></code></strong>
</pre>
      </div>
      <a id="id2824244" class="indexterm"></a>
      <a id="id2824256" class="indexterm"></a>
      <a id="id2824264" class="indexterm"></a>
      <a id="id2824272" class="indexterm"></a>
      <a id="id2824281" class="indexterm"></a>
      <p>
			On the LVS routers, there are three services which need to be set to activate at boot time:
		</p>
      <div class="itemizedlist">
        <ul>
          <li>
            <p>
					The <code class="command">piranha-gui</code> service (primary node only)
				</p>
          </li>
          <li>
            <p>
					The <code class="command">pulse</code> service
				</p>
          </li>
          <li>
            <p>
					The <code class="command">sshd</code> service
				</p>
          </li>
        </ul>
      </div>
      <p>
			If you are clustering multi-port services or using firewall marks, you must also enable the <code class="command">iptables</code> service.
		</p>
      <p>
			It is best to set these services to activate in both runlevel 3 and runlevel 5. To accomplish this using <code class="command">chkconfig</code>, type the following command for each service:
		</p>
      <a id="id2824344" class="indexterm"></a>
      <p>
			<code class="command">/sbin/chkconfig --level 35 <em class="replaceable"><code>daemon</code></em> on</code>
		</p>
      <p>
			In the above command, replace <em class="replaceable"><code>daemon</code></em> with the name of the service you are activating. To get a list of services on the system as well as what runlevel they are set to activate on, issue the following command:
		</p>
      <p>
			<code class="command">/sbin/chkconfig --list</code>
		</p>
      <div class="warning">
        <h2>Warning</h2>
        <p>
				Turning any of the above services on using <code class="command">chkconfig</code> does not actually start the daemon. To do this use the <code class="command">/sbin/service</code> command. See <a href="s1-lvs-piranha-service-VSA.html" title="2.3. Starting the Piranha Configuration Tool Service">Section 2.3, “Starting the <span><strong class="application">Piranha Configuration Tool</strong></span> Service”</a> for an example of how to use the <code class="command">/sbin/service</code> command.
			</p>
      </div>
      <p>
			For more information on runlevels and configuring services with <code class="command">ntsysv</code> and the <span><strong class="application">Services Configuration Tool</strong></span>, refer to the chapter titled <em class="citetitle">"Controlling Access to Services"</em> in the <em class="citetitle">Red Hat Enterprise Linux System Administration Guide</em>.
		</p>
    </div>
    <ul class="docnav">
      <li class="previous">
        <a accesskey="p" href="ch-initial-setup-VSA.html"><strong>Prev</strong>Chapter 2. Initial LVS Configuration</a>
      </li>
      <li class="up">
        <a accesskey="u" href="#">
          <strong>Up</strong>
        </a>
      </li>
      <li class="home">
        <a accesskey="h" href="index.html">
          <strong>Home</strong>
        </a>
      </li>
      <li class="next">
        <a accesskey="n" href="s1-lvs-piranha-password-VSA.html"><strong>Next</strong>2.2. Setting a Password for the Piranha Configura...</a>
      </li>
    </ul>
  <br><font size="1"><b>Note:</b> This documentation is provided {and copyrighted} by <b>Red Hat®, Inc.</b> and is released via the Open Publication License. The copyright holder has added the further requirement that <i>Distribution of substantively modified versions of this document is prohibited without the explicit permission of the copyright holder</i>. The <b>CentOS project</b> redistributes these original works (in their unmodified form) as a reference for <b>CentOS-5</b> because <b>CentOS-5</b> is built from publicly available, open source SRPMS. The documentation is unmodified to be compliant with upstream distribution policy. Neither <b>CentOS-5</b> nor the <b>CentOS Project</b> are in any way affiliated with or sponsored by <b>Red Hat®, Inc.</b></font></body>
</html>
